graph TB
    subgraph "Rules Engine Domain Architecture"
        direction TB
        
        subgraph "Core Domain - Strategic Business Value"
            direction LR
            CORE_CALC[Rules Calculation<br/>âš¡ Real-time Processing<br/>ğŸ”§ Conflict Resolution<br/>ğŸ“Š Performance Optimization<br/>ğŸ¯ <500ms Response Time]
            CORE_MGMT[Rules Management<br/>ğŸ“ Rule Lifecycle<br/>ğŸ”„ Approval Workflow<br/>ğŸ“‹ Template System<br/>ğŸ‘¥ Business User Empowerment]
            CORE_EVAL[Rules Evaluation<br/>ğŸŒ External Integration<br/>ğŸ“¡ API Gateway<br/>âš–ï¸ Load Balancing<br/>ğŸš€ 1000+ TPS Support]
        end
        
        subgraph "Supporting Domain - Business Capabilities"
            direction LR
            PROM[Promotions<br/>ğŸ¯ Discount Rules<br/>ğŸ·ï¸ Campaign Management<br/>ğŸ’° Benefit Calculation<br/>ğŸ›ï¸ Marketing Integration]
            LOY[Loyalty<br/>â­ Points Rules<br/>ğŸ† Tier Management<br/>ğŸ Rewards Calculation<br/>ğŸ“ˆ Customer Retention]
            COUP[Coupons<br/>ğŸ« Validation Rules<br/>ğŸ”’ Usage Tracking<br/>ğŸ›¡ï¸ Fraud Prevention<br/>ğŸ’³ Redemption Logic]
            TAX[Taxes & Fees<br/>ğŸ“ Jurisdiction Rules<br/>ğŸ’¸ Tax Calculation<br/>ğŸ“‹ Compliance Reporting<br/>âš–ï¸ Regulatory Support]
            CALC[Rule Evaluator/Calculator<br/>ğŸ”¢ Calculation Engine<br/>âš¡ High Performance<br/>ğŸ”„ Multi-Domain Processing<br/>ğŸ§® Mathematical Operations]
        end
        
        subgraph "Generic Domain - Infrastructure Services"
            direction LR
            AUTH[Authentication<br/>ğŸ” User Management<br/>ğŸ›¡ï¸ OAuth 2.0/JWT<br/>ğŸ« Session Management<br/>ğŸ¢ Enterprise Integration]
            INT[Integration<br/>ğŸ”Œ External Systems<br/>ğŸ“¡ Data Synchronization<br/>ğŸ”„ Protocol Translation<br/>ğŸŒ API Management]
            AUDIT[Audit & Compliance<br/>ğŸ“Š Event Logging<br/>ğŸ“‹ Compliance Tracking<br/>ğŸ—‚ï¸ Audit Reports<br/>âš–ï¸ SOX/GDPR Support]
        end
    end
    
    subgraph "External Systems and Stakeholders"
        direction TB
        
        subgraph "Business Users"
            BA[Business Analysts<br/>ğŸ“Š Rule Creation<br/>ğŸ“ Campaign Design]
            APPROVER[Approvers<br/>âœ… Rule Validation<br/>ğŸ“‹ Compliance Review]
            ADMIN[System Administrators<br/>âš™ï¸ System Management<br/>ğŸ“ˆ Performance Monitoring]
        end
        
        subgraph "External Systems"
            POS[POS Systems<br/>ğŸ’³ Point of Sale<br/>ğŸ›’ Transaction Processing<br/>ğŸª Retail Integration]
            ECOM[E-commerce Platforms<br/>ğŸŒ Online Shopping<br/>ğŸ›ï¸ Digital Commerce<br/>ğŸ“± Mobile Apps]
            CRM[Customer Systems<br/>ğŸ‘¥ Customer Data<br/>ğŸ“Š Customer Analytics<br/>ğŸ¯ Segmentation]
            ERP[Enterprise Systems<br/>ğŸ“Š Business Intelligence<br/>ğŸ’¼ Corporate Systems<br/>ğŸ“ˆ Financial Reporting]
        end
    end
    
    %% Core Domain Internal Flow
    CORE_MGMT --> CORE_CALC
    CORE_CALC --> CORE_EVAL
    CORE_CALC <--> CALC
    
    %% Supporting Domain Integration
    CORE_CALC --> PROM
    CORE_CALC --> LOY
    CORE_CALC --> COUP
    CORE_CALC --> TAX
    
    %% Supporting Domain Cross-Integration
    PROM <--> LOY
    COUP --> PROM
    
    %% Generic Domain Support
    CORE_MGMT --> AUTH
    CORE_EVAL --> INT
    CORE_MGMT --> AUDIT
    CORE_CALC --> AUDIT
    CORE_EVAL --> AUDIT
    
    %% Business User Interactions
    BA --> CORE_MGMT
    APPROVER --> CORE_MGMT
    ADMIN --> CORE_MGMT
    ADMIN --> CORE_CALC
    ADMIN --> CORE_EVAL
    
    %% External System Integration
    CORE_EVAL <--> POS
    CORE_EVAL <--> ECOM
    INT <--> CRM
    INT <--> ERP
    
    %% Authentication Flow
    AUTH --> BA
    AUTH --> APPROVER
    AUTH --> ADMIN
    
    classDef coreContext fill:#ff6b6b,stroke:#c92a2a,stroke-width:3px,color:#fff
    classDef supportingContext fill:#4ecdc4,stroke:#26a69a,stroke-width:2px,color:#fff
    classDef genericContext fill:#ffe066,stroke:#ffd43b,stroke-width:2px,color:#000
    classDef businessUser fill:#98fb98,stroke:#32cd32,stroke-width:2px,color:#000
    classDef externalSystem fill:#dda0dd,stroke:#9370db,stroke-width:2px,color:#000
    
    class CORE_CALC,CORE_MGMT,CORE_EVAL coreContext
    class PROM,LOY,COUP,TAX,CALC supportingContext
    class AUTH,INT,AUDIT genericContext
    class BA,APPROVER,ADMIN businessUser
    class POS,ECOM,CRM,ERP externalSystem